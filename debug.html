<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>QR Code Library Debugger</title>
</head>
<body>
    <h1>QR Code 函式庫除錯頁面</h1>
    <p>請按下 F12 打開開發者工具，並查看「主控台 (Console)」的輸出。</p>
    <p id="status" style="font-weight: bold; font-size: 1.2em;">狀態：正在嘗試載入...</p>

    <script>
        // 這個腳本會嘗試載入 qrcode.min.js 並回報結果
        const statusElement = document.getElementById('status');
        const script = document.createElement('script');

        // 我們要測試的路徑
        script.src = 'js/qrcode.min.js'; 
        
        // 成功載入時的處理
        script.onload = function() {
            console.log('script.onload 事件已觸發 (Event "onload" has fired).');
            statusElement.textContent = '狀態：script.onload 事件已觸發。';

            if (window.QRCode) {
                console.log('成功！ window.QRCode 物件已存在。 (Success! window.QRCode object exists.)');
                console.log(window.QRCode); // 把物件本人印出來看看
                statusElement.textContent = '狀態：成功！ window.QRCode 物件已找到。';
                statusElement.style.color = 'green';
            } else {
                console.error('失敗！ onload 事件已觸發，但 window.QRCode 物件不存在！ (Failure! onload fired, but window.QRCode object does NOT exist!)');
                statusElement.textContent = '狀態：失敗！ onload 觸發了，但 window.QRCode 物件不存在。這極有可能是檔案內容錯誤。';
                statusElement.style.color = 'red';
            }
        };

        // 載入失敗時的處理
        script.onerror = function() {
            console.error('致命錯誤：無法載入 js/qrcode.min.js 檔案 (Fatal Error: Could not load js/qrcode.min.js file).');
            console.error('請再次檢查您的資料夾與檔案名稱 (大小寫也需要完全一致)。');
            statusElement.textContent = '狀態：致命錯誤！找不到 js/qrcode.min.js。請檢查路徑與檔名。';
            statusElement.style.color = 'red';
        };

        // 將 script 標籤加入頁面，開始載入
        document.head.appendChild(script);
        console.log('已將 <script> 標籤加入頁面 (Appended <script> tag to page).');
    </script>
</body>
</html>
